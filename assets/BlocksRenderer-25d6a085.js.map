{"version":3,"file":"BlocksRenderer-25d6a085.js","sources":["../../node_modules/@strapi/blocks-react-renderer/dist/Text.mjs","../../node_modules/@strapi/blocks-react-renderer/dist/Block.mjs","../../node_modules/@strapi/blocks-react-renderer/dist/BlocksRenderer.mjs"],"sourcesContent":["import { jsx, Fragment } from \"react/jsx-runtime\";\nimport { useComponentsContext } from \"./BlocksRenderer.mjs\";\nconst Text = ({ text, ...modifiers }) => {\n  const { modifiers: modifierComponents, missingModifierTypes } = useComponentsContext();\n  const modifierNames = Object.keys(modifiers);\n  return modifierNames.reduce(\n    (children, modifierName) => {\n      if (!modifiers[modifierName]) {\n        return children;\n      }\n      const ModifierComponent = modifierComponents[modifierName];\n      if (!ModifierComponent) {\n        if (!missingModifierTypes.includes(modifierName)) {\n          console.warn(\n            `[@strapi/block-react-renderer] No component found for modifier \"${modifierName}\"`\n          );\n          missingModifierTypes.push(modifierName);\n        }\n        return children;\n      }\n      return /* @__PURE__ */ jsx(ModifierComponent, { children });\n    },\n    // By default, return the text without any wrapper to avoid useless nesting\n    /* @__PURE__ */ jsx(Fragment, { children: text })\n  );\n};\nexport {\n  Text\n};\n//# sourceMappingURL=Text.mjs.map\n","import { jsx } from \"react/jsx-runtime\";\nimport { createElement } from \"react\";\nimport { useComponentsContext } from \"./BlocksRenderer.mjs\";\nimport { Text } from \"./Text.mjs\";\nconst voidTypes = [\"image\"];\nconst augmentProps = (content) => {\n  const { children: childrenNodes, type, ...props } = content;\n  if (type === \"code\") {\n    const getPlainText = (children) => {\n      return children.reduce((currentPlainText, node) => {\n        if (node.type === \"text\") {\n          return currentPlainText.concat(node.text);\n        }\n        if (node.type === \"link\") {\n          return currentPlainText.concat(getPlainText(node.children));\n        }\n        return currentPlainText;\n      }, \"\");\n    };\n    return {\n      ...props,\n      plainText: getPlainText(content.children)\n    };\n  }\n  return props;\n};\nconst Block = ({ content }) => {\n  const { children: childrenNodes, type, ...props } = content;\n  const { blocks, missingBlockTypes } = useComponentsContext();\n  const BlockComponent = blocks[type];\n  if (!BlockComponent) {\n    if (!missingBlockTypes.includes(type)) {\n      console.warn(`[@strapi/block-react-renderer] No component found for block type \"${type}\"`);\n      missingBlockTypes.push(type);\n    }\n    return null;\n  }\n  if (voidTypes.includes(type)) {\n    return /* @__PURE__ */ jsx(BlockComponent, { ...props });\n  }\n  if (type === \"paragraph\" && childrenNodes.length === 1 && childrenNodes[0].type === \"text\" && childrenNodes[0].text === \"\") {\n    return /* @__PURE__ */ jsx(\"br\", {});\n  }\n  const augmentedProps = augmentProps(content);\n  return /* @__PURE__ */ jsx(BlockComponent, { ...augmentedProps, children: childrenNodes.map((childNode, index) => {\n    if (childNode.type === \"text\") {\n      const { type: _type, ...childNodeProps } = childNode;\n      return /* @__PURE__ */ createElement(Text, { ...childNodeProps, key: index });\n    }\n    return /* @__PURE__ */ jsx(Block, { content: childNode }, index);\n  }) });\n};\nexport {\n  Block\n};\n//# sourceMappingURL=Block.mjs.map\n","'use client';\nimport { jsx } from \"react/jsx-runtime\";\nimport * as React from \"react\";\nimport { Block } from \"./Block.mjs\";\nconst defaultComponents = {\n  blocks: {\n    paragraph: (props) => /* @__PURE__ */ jsx(\"p\", { children: props.children }),\n    quote: (props) => /* @__PURE__ */ jsx(\"blockquote\", { children: props.children }),\n    code: (props) => /* @__PURE__ */ jsx(\"pre\", { children: /* @__PURE__ */ jsx(\"code\", { children: props.plainText }) }),\n    heading: ({ level, children }) => {\n      switch (level) {\n        case 1:\n          return /* @__PURE__ */ jsx(\"h1\", { children });\n        case 2:\n          return /* @__PURE__ */ jsx(\"h2\", { children });\n        case 3:\n          return /* @__PURE__ */ jsx(\"h3\", { children });\n        case 4:\n          return /* @__PURE__ */ jsx(\"h4\", { children });\n        case 5:\n          return /* @__PURE__ */ jsx(\"h5\", { children });\n        case 6:\n          return /* @__PURE__ */ jsx(\"h6\", { children });\n      }\n    },\n    link: (props) => /* @__PURE__ */ jsx(\"a\", { href: props.url, children: props.children }),\n    list: (props) => {\n      if (props.format === \"ordered\") {\n        return /* @__PURE__ */ jsx(\"ol\", { children: props.children });\n      }\n      return /* @__PURE__ */ jsx(\"ul\", { children: props.children });\n    },\n    \"list-item\": (props) => /* @__PURE__ */ jsx(\"li\", { children: props.children }),\n    image: (props) => /* @__PURE__ */ jsx(\"img\", { src: props.image.url, alt: props.image.alternativeText || void 0 })\n  },\n  modifiers: {\n    bold: (props) => /* @__PURE__ */ jsx(\"strong\", { children: props.children }),\n    italic: (props) => /* @__PURE__ */ jsx(\"em\", { children: props.children }),\n    underline: (props) => /* @__PURE__ */ jsx(\"u\", { children: props.children }),\n    strikethrough: (props) => /* @__PURE__ */ jsx(\"del\", { children: props.children }),\n    code: (props) => /* @__PURE__ */ jsx(\"code\", { children: props.children })\n  },\n  missingBlockTypes: [],\n  missingModifierTypes: []\n};\nconst ComponentsContext = React.createContext(defaultComponents);\nconst ComponentsProvider = ({ children, value = defaultComponents }) => {\n  const memoizedValue = React.useMemo(() => value, [value]);\n  return /* @__PURE__ */ jsx(ComponentsContext.Provider, { value: memoizedValue, children });\n};\nfunction useComponentsContext() {\n  return React.useContext(ComponentsContext);\n}\nconst BlocksRenderer = (props) => {\n  const blocks = {\n    ...defaultComponents.blocks,\n    ...props.blocks\n  };\n  const modifiers = {\n    ...defaultComponents.modifiers,\n    ...props.modifiers\n  };\n  const missingBlockTypes = React.useRef([]);\n  const missingModifierTypes = React.useRef([]);\n  return /* @__PURE__ */ jsx(\n    ComponentsProvider,\n    {\n      value: {\n        blocks,\n        modifiers,\n        missingBlockTypes: missingBlockTypes.current,\n        missingModifierTypes: missingModifierTypes.current\n      },\n      children: props.content.map((content, index) => /* @__PURE__ */ jsx(Block, { content }, index))\n    }\n  );\n};\nexport {\n  BlocksRenderer,\n  ComponentsProvider,\n  useComponentsContext\n};\n//# sourceMappingURL=BlocksRenderer.mjs.map\n"],"names":["Text","text","modifiers","modifierComponents","missingModifierTypes","useComponentsContext","children","modifierName","ModifierComponent","jsx","Fragment","voidTypes","augmentProps","content","childrenNodes","type","props","getPlainText","currentPlainText","node","Block","blocks","missingBlockTypes","BlockComponent","augmentedProps","childNode","index","_type","childNodeProps","createElement","defaultComponents","level","ComponentsContext","React.createContext","ComponentsProvider","value","memoizedValue","React.useMemo","React.useContext","BlocksRenderer","React.useRef"],"mappings":"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","x_google_ignoreList":[0,1,2]}